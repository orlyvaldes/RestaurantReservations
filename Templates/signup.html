<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <!-- All CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="/static/css/styles.css">

</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-custom fixed-top">
        <div class="container">
            <a href="{{url_for('home')}}" class="navbar-brand"><span
                    class="text-decoration-none">Restaurant</span>Reservations <span
                    class="text-decoration-none"></span></a>
        </div>
    </nav>


    <div class="signup">
        <div class="container mt-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header text-center">
                            <i class="bi bi-person-circle" style="font-size: 2rem;"></i>
                            <h2>Sign Up</h2>
                            <div class="text-center mt-3">
                                {% with messages = get_flashed_messages(with_categories=true) %}
                                {% if messages %}
                                <ul class="flashes">
                                    {% for category, message in messages %}
                                    <li class="{{ category }}">{{ message }}</li>
                                    {% endfor %}
                                </ul>
                                {% endif %}
                                {% endwith %}
                            </div>
                        </div>
                        <div class="card-body">
                            <form method="POST">

                                {{ form.hidden_tag() }}
                                <div class="form-group">
                                    {{ form.name.label }} {{ form.name() }} <br>
                                </div>
                                <div class="form-group">
                                    {{ form.email.label }} {{ form.email() }}<br>
                                </div>
                                <div class="form-group">
                                    {{ form.password.label }} {{ form.password() }}<br>
                                </div>
                                <div class="form-group">
                                    {{ form.confirm_password.label }} {{ form.confirm_password() }}<br>
                                </div>


                                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                                <script
                                    src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
                                <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
                                    rel="stylesheet" />

                                <script>
                                    $(document).ready(function () {
                                        const states = {
                                            "Alabama": ["Birmingham", "Montgomery", "Mobile", "Huntsville", "Tuscaloosa"],
                                            "Alaska": ["Anchorage", "Fairbanks", "Juneau", "Sitka", "Ketchikan"],
                                            "Arizona": ["Phoenix", "Tucson", "Mesa", "Chandler", "Scottsdale"],
                                            "Arkansas": ["Little Rock", "Fort Smith", "Fayetteville", "Springdale", "Jonesboro"],
                                            "California": ["Los Angeles", "San Francisco", "San Diego", "San Jose", "Sacramento"],
                                            "Colorado": ["Denver", "Colorado Springs", "Aurora", "Fort Collins", "Lakewood"],
                                            "Connecticut": ["Bridgeport", "New Haven", "Stamford", "Hartford", "Waterbury"],
                                            "Delaware": ["Wilmington", "Dover", "Newark", "Middletown", "Smyrna"],
                                            "Florida": ["Miami", "Orlando", "Tampa", "Cape Coral", "Jacksonville", "Tallahassee"],
                                            "Georgia": ["Atlanta", "Augusta", "Savannah", "Columbus", "Athens"],
                                            "Hawaii": ["Honolulu", "Hilo", "Kailua", "Kapolei", "Kaneohe"],
                                            "Idaho": ["Boise", "Meridian", "Nampa", "Idaho Falls", "Pocatello"],
                                            "Illinois": ["Des Plaines", "Chicago", "Aurora", "Naperville", "Joliet", "Rockford"],
                                            "Indiana": ["Indianapolis", "Fort Wayne", "Evansville", "South Bend", "Carmel"],
                                            "Iowa": ["Des Moines", "Cedar Rapids", "Davenport", "Sioux City", "Iowa City"],
                                            "Kansas": ["Wichita", "Overland Park", "Kansas City", "Topeka", "Olathe"],
                                            "Kentucky": ["Louisville", "Lexington", "Bowling Green", "Owensboro", "Covington"],
                                            "Louisiana": ["New Orleans", "Baton Rouge", "Shreveport", "Lafayette", "Lake Charles"],
                                            "Maine": ["Portland", "Lewiston", "Bangor", "South Portland", "Auburn"],
                                            "Maryland": ["Baltimore", "Frederick", "Rockville", "Gaithersburg", "Bowie"],
                                            "Massachusetts": ["Boston", "Worcester", "Springfield", "Lowell", "Cambridge"],
                                            "Michigan": ["Detroit", "Grand Rapids", "Warren", "Sterling Heights", "Ann Arbor"],
                                            "Minnesota": ["Minneapolis", "Saint Paul", "Rochester", "Duluth", "Bloomington"],
                                            "Mississippi": ["Jackson", "Gulfport", "Southaven", "Biloxi", "Hattiesburg"],
                                            "Missouri": ["Kansas City", "Saint Louis", "Springfield", "Columbia", "Independence"],
                                            "Montana": ["Billings", "Missoula", "Great Falls", "Bozeman", "Butte"],
                                            "Nebraska": ["Omaha", "Lincoln", "Bellevue", "Grand Island", "Kearney"],
                                            "Nevada": ["Las Vegas", "Henderson", "Reno", "North Las Vegas", "Sparks"],
                                            "New Hampshire": ["Manchester", "Nashua", "Concord", "Derry", "Rochester"],
                                            "New Jersey": ["Newark", "Jersey City", "Paterson", "Elizabeth", "Edison"],
                                            "New Mexico": ["Albuquerque", "Las Cruces", "Rio Rancho", "Santa Fe", "Roswell"],
                                            "New York": ["New York City", "Buffalo", "Rochester", "Yonkers", "Syracuse"],
                                            "North Carolina": ["Charlotte", "Raleigh", "Greensboro", "Durham", "Winston-Salem"],
                                            "North Dakota": ["Fargo", "Bismarck", "Grand Forks", "Minot", "West Fargo"],
                                            "Ohio": ["Columbus", "Cleveland", "Cincinnati", "Toledo", "Akron"],
                                            "Oklahoma": ["Oklahoma City", "Tulsa", "Norman", "Broken Arrow", "Lawton"],
                                            "Oregon": ["Portland", "Salem", "Eugene", "Gresham", "Hillsboro"],
                                            "Pennsylvania": ["Philadelphia", "Pittsburgh", "Allentown", "Erie", "Reading"],
                                            "Rhode Island": ["Providence", "Warwick", "Cranston", "Pawtucket", "East Providence"],
                                            "South Carolina": ["Charleston", "Columbia", "North Charleston", "Mount Pleasant", "Rock Hill"],
                                            "South Dakota": ["Sioux Falls", "Rapid City", "Aberdeen", "Brookings", "Watertown"],
                                            "Tennessee": ["Nashville", "Memphis", "Knoxville", "Chattanooga", "Clarksville"],
                                            "Texas": ["Houston", "San Antonio", "Dallas", "Austin", "Fort Worth"],
                                            "Utah": ["Salt Lake City", "West Valley City", "Provo", "West Jordan", "Orem"],
                                            "Vermont": ["Burlington", "South Burlington", "Rutland", "Barre", "Montpelier"],
                                            "Virginia": ["Virginia Beach", "Norfolk", "Chesapeake", "Richmond", "Newport News"],
                                            "Washington": ["Seattle", "Spokane", "Tacoma", "Vancouver", "Bellevue"],
                                            "West Virginia": ["Charleston", "Huntington", "Morgantown", "Parkersburg", "Wheeling"],
                                            "Wisconsin": ["Milwaukee", "Madison", "Green Bay", "Kenosha", "Racine"],
                                            "Wyoming": ["Cheyenne", "Casper", "Laramie", "Gillette", "Rock Springs"]
                                        };


                                        
                                        for (const state in states) {
                                            $('#state').append(new Option(state, state));
                                        }

                                       
                                        $('#state').select2();
                                        $('#city').select2();

                                       
                                        $('#state').change(function () {
                                            const selectedState = $(this).val();
                                            const cities = states[selectedState];

                                            $('#city').empty();
                                            for (const city of cities) {
                                                $('#city').append(new Option(city, city));
                                            }
                                        });
                                    });
                                </script>

                                <div class="form-group">
                                    <label for="state">State</label>
                                    <select id="state" name="state" class="form-control">
                                        <option value="">Select a state</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="city">City</label>
                                    <select id="city" name="city" class="form-control">
                                        <option value="">Select a city</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    {{ form.street.label }} {{ form.street() }}<br>
                                </div>
                                <div class="form-group-submit">
                                    {{ form.submit() }}<br>
                                </div>
                            </form>
                            <a href="{{ url_for('login') }}">Already have an account? Login</a>

                        </div>
                    </div>
                </div>
            </div>
        </div>

</body>

</html>